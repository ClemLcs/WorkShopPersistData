#%RAML 1.0
---
title: Workshop Persist Data
baseUri: https://workshop-persist-data.locascio.fr
mediaType: application/json
version: v1
protocols: [ HTTPS ]

/book:
  /:
    get:
      description: Get All Books.
      responses:
        204:
          description: Get all books information's.
        500:
          description: An error was occurred.
    post:
      description: Create a Book.
      body:
        application/json:
          type: object
          example: |
            {
              "title": "Test",
              "publication_date": "06/07/2023",
              "page_number": 15
            }
      responses:
        200:
          description: Save book.
        400:
          description: Error with the passed parameters.
          body:
            application/json:
              type: object
              example: |
                {
                	"timestamp": "2023-06-07T15:01:27.488+00:00",
                	"status": 400,
                	"error": "Bad Request",
                	"path": "/book/"
                }
        500:
          description: An error was occurred.

  /{bookId}:
    get:
      description: Get Book Info.
      200:
        description: Book info.
      404:
        description: Book not found.
      500:
        description: An error was occurred.
    put:
      description: Update One Book.
      body:
        application/json:
          type: object
          example: |
            {
              "bookId": 1,
              "title": "Test",
              "publication_date": "06/07/2023",
              "page_number": 15,
              "authors": "N/A",
              "borrow": "N/A", 
              "category": "N/A
            }
      responses:
        204:
          description: Update book.
        400:
          description: Error with the passed parameters.
        404:
          description: Book not found.
        500:
          description: An error was occurred.

/borrow:
  /:
    get:
      description: Get All Borrows.
      responses:
        200:
          description: Get all borrows information's.
        204:
          description: No borrow inserted in DB.
        500:
          description: An error was occurred.
    post:
      description: Create a Borrow.
      body:
        application/json:
          type: object
          example: |
            {
              "loan_date": "2023-06-07T15:01:27.488+00:00",
              "expected_end_date": "2023-06-07T15:01:27.488+00:00",
              "borrow_end": null
            }
      responses:
        201:
          description: Save borrow.
        500:
          description: An error was occurred.

/{borrowId}:
  put:
    description: Update One Borrow.
    body:
      application/json:
        type: object
        example: |
          {
            "bookId": 1,
            "title": "Test",
            "publication_date": "06/07/2023",
            "page_number": 15,
            "authors": "N/A",
            "borrow": "N/A", 
            "category": "N/A
          }
    responses:
      200:
        description: Update book.
      400:
        description: Error with the passed parameters.
      404:
        description: Borrow not found.
      500:
        description: An error was occurred.
  delete:
    description: Delete a Borrow
    responses:
      204:
        description: Delete book.
      404:
        description: Borrow not found.
      500:
        description: An error was occurred.
